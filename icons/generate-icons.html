<!DOCTYPE html>
<html>
<head>
    <title>Icon Generator</title>
</head>
<body>
    <h2>Gmail Timezone Helper - Icon Generator</h2>
    <p>This page generates PNG icons from the SVG for the Chrome extension.</p>
    
    <div id="icons">
        <canvas id="canvas16" width="16" height="16"></canvas>
        <canvas id="canvas48" width="48" height="48"></canvas>
        <canvas id="canvas128" width="128" height="128"></canvas>
    </div>
    
    <div>
        <button onclick="downloadIcons()">Download Icons</button>
    </div>

    <script>
        const svgString = `<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#4285f4;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#34a853;stop-opacity:1" />
                </linearGradient>
            </defs>
            
            <circle cx="64" cy="64" r="60" fill="url(#grad1)" stroke="#fff" stroke-width="4"/>
            <circle cx="64" cy="64" r="40" fill="#fff" stroke="#e8eaed" stroke-width="2"/>
            <line x1="64" y1="64" x2="64" y2="40" stroke="#5f6368" stroke-width="3" stroke-linecap="round"/>
            <line x1="64" y1="64" x2="80" y2="64" stroke="#5f6368" stroke-width="2" stroke-linecap="round"/>
            <circle cx="64" cy="64" r="3" fill="#5f6368"/>
            <text x="64" y="30" text-anchor="middle" font-family="Arial" font-size="12" fill="#5f6368">12</text>
            <text x="90" y="70" text-anchor="middle" font-family="Arial" font-size="12" fill="#5f6368">3</text>
            <text x="64" y="110" text-anchor="middle" font-family="Arial" font-size="12" fill="#5f6368">6</text>
            <text x="38" y="70" text-anchor="middle" font-family="Arial" font-size="12" fill="#5f6368">9</text>
            <circle cx="90" cy="38" r="12" fill="#fff" stroke="#4285f4" stroke-width="2"/>
            <path d="M78 38 Q90 32 102 38 Q90 44 78 38" fill="none" stroke="#4285f4" stroke-width="1.5"/>
            <path d="M78 38 Q90 44 102 38" fill="none" stroke="#4285f4" stroke-width="1.5"/>
            <line x1="90" y1="26" x2="90" y2="50" stroke="#4285f4" stroke-width="1.5"/>
        </svg>`;

        function generateIcon(size) {
            const canvas = document.getElementById(`canvas${size}`);
            const ctx = canvas.getContext('2d');
            
            const img = new Image();
            const svgBlob = new Blob([svgString], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(svgBlob);
            
            img.onload = function() {
                ctx.clearRect(0, 0, size, size);
                ctx.drawImage(img, 0, 0, size, size);
                URL.revokeObjectURL(url);
            };
            
            img.src = url;
        }

        function downloadIcons() {
            [16, 48, 128].forEach(size => {
                const canvas = document.getElementById(`canvas${size}`);
                const link = document.createElement('a');
                link.download = `icon${size}.png`;
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        // Generate icons when page loads
        window.onload = function() {
            [16, 48, 128].forEach(size => {
                generateIcon(size);
            });
        };
    </script>
</body>
</html>
